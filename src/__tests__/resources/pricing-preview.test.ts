/**
 *  ! Autogenerated code !
 *  Do not make changes to this file.
 *  Changes may be overwritten as part of auto-generation.
 */

import { PricingPreviewResource } from '../../resources';
import { getPaddleTestClient } from '../helpers/test-client';
import { PricingPreviewMockResponse, PricingPreviewRequest } from '../mocks/resources/pricing-preview.mock';

describe('PricingPreviewResource', () => {
  test('should return a preview of the price', async () => {
    const paddleInstance = getPaddleTestClient();
    paddleInstance.post = jest.fn().mockResolvedValue(PricingPreviewMockResponse);

    const pricingPreviewResource = new PricingPreviewResource(paddleInstance);
    const pricingPreview = await pricingPreviewResource.preview(PricingPreviewRequest);

    expect(paddleInstance.post).toBeCalledWith(`/pricing-preview`, PricingPreviewRequest);
    expect(pricingPreview).toBeDefined();
  });
});
