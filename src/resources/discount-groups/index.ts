/**
 *  ! Autogenerated code !
 *  Do not make changes to this file.
 *  Changes may be overwritten as part of auto-generation.
 */

import { DiscountGroup, DiscountGroupCollection } from '../../entities/index.js';
import { BaseResource, QueryParameters } from '../../internal/base/index.js';
import { CreateDiscountGroupRequestBody, type ListDiscountGroupQueryParameters } from './operations/index.js';
import type { ErrorResponse, Response } from '../../internal/index.js';
import type { IDiscountGroupResponse } from '../../types/index.js';

const DiscountGroupPaths = {
  list: '/discount-groups',
  create: '/discount-groups',
} as const;

export * from './operations/index.js';

export class DiscountGroupsResource extends BaseResource {
  public list(queryParams?: ListDiscountGroupQueryParameters): DiscountGroupCollection {
    const queryParameters = new QueryParameters(queryParams);
    return new DiscountGroupCollection(this.client, DiscountGroupPaths.list + queryParameters.toQueryString());
  }

  public async create(createDiscountGroupRequestBody: CreateDiscountGroupRequestBody): Promise<DiscountGroup> {
    const response = await this.client.post<
      CreateDiscountGroupRequestBody,
      Response<IDiscountGroupResponse> | ErrorResponse
    >(DiscountGroupPaths.create, createDiscountGroupRequestBody);

    const data = this.handleResponse<IDiscountGroupResponse>(response);

    return new DiscountGroup(data);
  }
}
